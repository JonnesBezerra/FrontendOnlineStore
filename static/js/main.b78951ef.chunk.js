(this["webpackJsonpsd-0x-project-frontend-online-store"]=this["webpackJsonpsd-0x-project-frontend-online-store"]||[]).push([[0],{21:function(t,e,n){t.exports=n.p+"static/media/shopping-cart-logo.81c2fb57.png"},22:function(t,e,n){t.exports=n(38)},27:function(t,e,n){},28:function(t,e,n){},38:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),c=n(19),i=n.n(c),o=(n(27),n(1)),s=n(2),u=n(4),l=n(3),p=n(12),d=n(5),m=(n(28),function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(){var t;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(t=e.call.apply(e,[this].concat(r))).countCartItems=function(){return t.props.shoppingCartItens.reduce((function(t,e){return t+e.quantity}),0)},t}return Object(s.a)(n,[{key:"render",value:function(){return r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(p.b,{to:"/shopping-cart","data-testid":"shopping-cart-button",className:"cart position-relative"},r.a.createElement("i",{className:"fas fa fa-shopping-cart fa-lg"}),r.a.createElement("span",{className:"cart-basket d-flex justify-content-center","data-testid":"shopping-cart-size"},this.countCartItems()))))}}]),n}(a.Component)),h=n(7),f=n.n(h),g=n(11),y=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(){return Object(o.a)(this,n),e.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var t=this.props,e=t.title,n=t.img,a=t.price,c=t.id,i=t.addToCartHandler;return r.a.createElement("section",{"data-testid":"product",id:c,className:"product-card"},r.a.createElement("div",{className:"product-title"},e),r.a.createElement("div",{className:"product-img-ctn"},r.a.createElement("div",null,r.a.createElement("img",{className:"product-img",src:n,alt:e}))),r.a.createElement("div",{"data-testid":"product-add-to-cart",className:"add-to-cart",onClick:function(){return i(c,e,a)},onKeyUp:function(t){"Enter"===t.key&&i(c,e,a)},role:"button",tabIndex:"0"},"Adicionar ao carrinho"),r.a.createElement("div",{className:"price-tag"},"R$ ".concat(a)),r.a.createElement(p.b,{to:"/".concat(c)},r.a.createElement("button",{"data-testid":"product-detail-link",type:"button"},"Ver Detalhes")))}}]),n}(a.Component);function v(){return b.apply(this,arguments)}function b(){return(b=Object(g.a)(f.a.mark((function t(){var e,n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://api.mercadolibre.com/sites/MLB/categories");case 2:return e=t.sent,t.next=5,e.json();case 5:return n=t.sent,t.abrupt("return",n);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function E(t,e){return C.apply(this,arguments)}function C(){return(C=Object(g.a)(f.a.mark((function t(e,n){var a,r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://api.mercadolibre.com/sites/MLB/search?category=".concat(e,"&q=").concat(n));case 2:return a=t.sent,t.next=5,a.json();case 5:return r=t.sent,t.abrupt("return",r);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var j=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(t){var a;return Object(o.a)(this,n),(a=e.call(this,t)).getList=Object(g.a)(f.a.mark((function t(){var e,n,r,c,i;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=a.props,n=e.query,r=e.categoryID,t.next=3,E(r,n);case 3:c=t.sent,i=c.results,a.setState({products:i});case 6:case"end":return t.stop()}}),t)}))),a.state={products:[]},a}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.getList()}},{key:"render",value:function(){var t=this.state.products,e=this.props.addToCartHandler;return r.a.createElement("div",{className:"products-list"},t.map((function(t){return r.a.createElement(y,{key:t.id,id:t.id,title:t.title,img:t.thumbnail,price:t.price,addToCartHandler:e})})))}}]),n}(a.Component),k=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(t){var a;return Object(o.a)(this,n),(a=e.call(this,t)).handleListCategories=Object(g.a)(f.a.mark((function t(){var e;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v();case 2:e=t.sent,a.setState({categories:e});case 4:case"end":return t.stop()}}),t)}))),a.renderCategory=function(){var t=a.state.categories,e=a.props.handleCategoryClick;return t.map((function(t){var n=t.name,a=t.id;return r.a.createElement("button",{type:"button",key:a,"data-testid":"category",onClick:function(){return e(a)},className:"category-btn"},n)}))},a.state={categories:[]},a}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.handleListCategories()}},{key:"render",value:function(){return r.a.createElement("div",{className:"category-list"},this.renderCategory())}}]),n}(a.Component),O=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(t){var a;return Object(o.a)(this,n),(a=e.call(this,t)).handleCategoryClick=function(t){a.setState({categoryID:t,doQuery:!0})},a.searchWords=function(t){var e=t.target.value;a.setState({query:e})},a.renderSearchBar=function(){var t=a.state.query;return r.a.createElement("div",{className:"search"},r.a.createElement("input",{type:"text",id:"search-bar",value:t,"data-testid":"query-input",onChange:function(t){return a.searchWords(t)},onKeyUp:function(t){"Enter"===t.key&&a.setState({doQuery:!0})}}),r.a.createElement("button",{type:"button",onClick:function(){return a.setState({doQuery:!0})},"data-testid":"query-button"},"Search"))},a.renderInitialPhrase=function(){return r.a.createElement("p",{"data-testid":"home-initial-message"},"Digite algum termo de pesquisa ou escolha uma categoria.")},a.state={query:"",doQuery:!1,categoryID:""},a}return Object(s.a)(n,[{key:"render",value:function(){var t=this.state,e=t.query,n=t.doQuery,a=t.categoryID,c=this.props,i=c.addToCartHandler,o=c.shoppingCartItens;return r.a.createElement("main",null,r.a.createElement(k,{handleCategoryClick:this.handleCategoryClick}),r.a.createElement("section",{className:"article"},r.a.createElement("div",{className:"top-page"},this.renderSearchBar(),r.a.createElement(m,{shoppingCartItens:o})),n?r.a.createElement(j,{query:e,categoryID:a,addToCartHandler:i}):this.renderInitialPhrase()))}}]),n}(a.Component),I=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(t){var a;return Object(o.a)(this,n),(a=e.call(this,t)).renderEmptyMsg=function(){return r.a.createElement("p",{"data-testid":"shopping-cart-empty-message"},"Seu carrinho est\xe1 vazio")},a.renderCartList=function(){var t=a.props,e=t.changeItemQuantity,n=t.removeItem;return r.a.createElement("div",{className:"shopping-cart-list"},a.shoppingCartItens.map((function(t){return r.a.createElement("div",{key:t.id},r.a.createElement("div",{"data-testid":"shopping-cart-product-name"},t.title),r.a.createElement("div",{"data-testid":"shopping-cart-product-quantity"},t.quantity),r.a.createElement("button",{type:"button","data-testid":"product-increase-quantity",onClick:function(){return e(t.id,!0)}},"+"),r.a.createElement("button",{type:"button","data-testid":"product-decrease-quantity",onClick:function(){return e(t.id,!1)}},"-"),r.a.createElement("button",{type:"button",onClick:function(){return n(t.id)}},"X"))})))},a.shoppingCartItens=t.shoppingCartItens,a}return Object(s.a)(n,[{key:"render",value:function(){return r.a.createElement("section",null,0===this.shoppingCartItens.length?this.renderEmptyMsg():this.renderCartList(),r.a.createElement(p.b,{to:"/shopping-cart/checkout"},r.a.createElement("button",{type:"button","data-testid":"checkout-products",onClick:function(){return console.log("oi bobo")}},"Checkout")))}}]),n}(a.Component),x=n(21),q=n.n(x),w=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(){return Object(o.a)(this,n),e.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return r.a.createElement("header",{className:"shopping-cart-header"},r.a.createElement("img",{className:"page-title",src:q.a,alt:"logo"}))}}]),n}(a.Component);function N(){return(N=Object(g.a)(f.a.mark((function t(e){var n,a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://api.mercadolibre.com/items/".concat(e));case 2:return n=t.sent,t.next=5,n.json();case 5:return a=t.sent,t.abrupt("return",a);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var S=function(t){return N.apply(this,arguments)},H=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(t){var a;return Object(o.a)(this,n),(a=e.call(this,t)).getProduct=Object(g.a)(f.a.mark((function t(){var e,n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=a.props.match.params.id,t.next=3,S(e);case 3:n=t.sent,a.setState({product:n});case 5:case"end":return t.stop()}}),t)}))),a.state={product:""},a}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.getProduct()}},{key:"render",value:function(){var t=this.state.product,e=this.props,n=e.addToCartHandler,a=e.shoppingCartItens;return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("p",{"data-testid":"product-detail-name"},t.title)),r.a.createElement("div",{"data-testid":"product-detail-add-to-cart",className:"add-to-cart",onClick:function(){return n(t.id,t.title,t.price)},onKeyUp:function(e){"Enter"===e.key&&n(t.id,t.title,t.price)},role:"button",tabIndex:"0"},"Adicionar ao carrinho"),r.a.createElement(m,{shoppingCartItens:a}))}}]),n}(a.Component),T=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(){return Object(o.a)(this,n),e.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return r.a.createElement("form",null,r.a.createElement("div",null,r.a.createElement("input",{type:"text","data-testid":"checkout-fullname"}),r.a.createElement("input",{type:"text","data-testid":"checkout-email"}),r.a.createElement("input",{type:"text","data-testid":"checkout-cpf"}),r.a.createElement("input",{type:"text","data-testid":"checkout-phone"}),r.a.createElement("input",{type:"text","data-testid":"checkout-cep"}),r.a.createElement("input",{type:"text","data-testid":"checkout-address"})))}}]),n}(a.Component),D=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(t){var a;return Object(o.a)(this,n),(a=e.call(this,t)).renderEmptyMsg=function(){return r.a.createElement("p",{"data-testid":"shopping-cart-empty-message"},"Seu carrinho est\xe1 vazio")},a.renderCartList=function(){return r.a.createElement("div",{className:"shopping-cart-list"},a.shoppingCartItens.map((function(t){return r.a.createElement("div",{key:t.id},r.a.createElement("div",{"data-testid":"shopping-cart-product-name"},t.title),r.a.createElement("div",{"data-testid":"shopping-cart-product-quantity"},t.quantity))})))},a.shoppingCartItens=t.shoppingCartItens,a}return Object(s.a)(n,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",null,0===this.shoppingCartItens.length?this.renderEmptyMsg():this.renderCartList()),r.a.createElement(T,null))}}]),n}(a.Component),L=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(){var t;return Object(o.a)(this,n),(t=e.call(this)).removeItem=function(e){var n=t.state.shoppingCartItens,a=n.findIndex((function(t){return t.id===e}));n.splice(a,1),t.setState({shoppingCartItens:n})},t.changeItemQuantity=function(e,n){var a=t.state.shoppingCartItens,r=a.findIndex((function(t){return t.id===e}));n?a[r].quantity+=1:a[r].quantity>1?a[r].quantity-=1:a.splice(r,1),t.setState({shoppingCartItens:a})},t.addToCartHandler=function(e,n,a){var r=t.state.shoppingCartItens;if(r.find((function(t){return t.id===e}))){var c=r.findIndex((function(t){return t.id===e}));r[c].quantity+=1}else{var i={id:e,title:n,price:a,quantity:1};r.push(i)}t.setState({shoppingCartItens:r})},t.state={shoppingCartItens:[]},t}return Object(s.a)(n,[{key:"render",value:function(){var t=this,e=this.state.shoppingCartItens;return r.a.createElement("div",null,r.a.createElement(p.a,null,r.a.createElement(w,null),r.a.createElement(d.c,null,r.a.createElement(d.a,{path:"/shopping-cart/checkout",render:function(){return r.a.createElement(D,{shoppingCartItens:e})}}),r.a.createElement(d.a,{path:"/shopping-cart",render:function(){return r.a.createElement(I,{shoppingCartItens:e,changeItemQuantity:t.changeItemQuantity,removeItem:t.removeItem})}}),r.a.createElement(d.a,{path:"/:id",render:function(n){return r.a.createElement(H,Object.assign({addToCartHandler:t.addToCartHandler,shoppingCartItens:e},n))}}),r.a.createElement(d.a,{exact:!0,path:"/",render:function(){return r.a.createElement(O,{addToCartHandler:t.addToCartHandler,shoppingCartItens:e})}}))))}}]),n}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(L,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[22,1,2]]]);
//# sourceMappingURL=main.b78951ef.chunk.js.map